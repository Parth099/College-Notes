# Advanced Types
## Intersection Types
### Intersection with Objects
```ts
type Admin = {
	name: string;
	privileges: string[];
};

type Employee = {
	name: string;
	startDate: Date;
};

type ElevatedEmployee = Admin & Employee;

const superEmp: ElevatedEmployee = {
	name: "Sim",
	privileges: ["elevator"],
	startDate: new Date(),
};
```
With Object types, `Admin` and `Employee`, their *intersection* (non-mathematical) **requires** that we define all properties both use. 

We can also do the same task with `interface` :
```ts
interface Admin = {
	name: string;
	privileges: string[];
};

interface Employee = {
	name: string;
	startDate: Date;
};

interface ElevatedEmployee extends Admin, Employee{}
```

### Intersection with *Core* Types
```ts
type Combinable = string | number;
type Numeric = number | boolean;

type Universal = Combinable & Numeric;

let p: Universal;
// p = "5"; -> error
// p = false; -> error
p = 5; //valid
```
With core types we see that the behavior of the `&` is actually closer to its mathematical definition. 

## Type Guards
> **Definition :**
> Checking if Props exist before accessing/using them.

Suppose we define a type as show below using Union Syntax
```ts
type JobDoer = Employee | Admin;
```
Then we want to define a method that prints `Worker` Name and privlages if there exists any.

```ts
function printEmpInfo(emp: JobDoer) {
	console.log(`Name: ${emp.name}`);
	console.log(`Privs: ${emp.privileges}`);
}
```
Since `TS` cannot guarantee that all `JobDoer`s have attr: privileges TS marks this as an issue. 

```ts
if(emp.privileges){
	console.log(`Privs: ${emp.privileges}`);
}
```
This causes another error.

The fix us using the JS `in` operator.
```ts
function printEmpInfo(emp: JobDoer) {
	console.log(`Name: ${emp.name}`);
	if ("privileges" in emp) {
		console.log(`Privs: ${emp.privileges}`);
	}
}
```
Same logic can be applied to the `startDate` prop.

Note For **Classes**:
If we want to run methods based on the type of class we can use 
```ts
if(objName instanceof ClsName){//...}
```
`instanceof` is a JavaScript operator.